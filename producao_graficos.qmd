---
title: "Produzindo Gráficos com ggplot2"
author: "Jeanne Franco"
date: "04-27-2025"
categories: [Gráficos, Linguagem R]
lang: pt
toc: true
---

## Aprendendo a produzir os principais gráficos com ggplot2

Vamos aprender a produzir os principais gráficos usando o pacote `ggplot2` no software R. Os gráficos mais comuns são: barras, boxplot, histogramas, dispersão e linhas.

Podemos utilizar o banco de dados de `pinguins`. Esses dados estão disponível no pacote `dados` que foi criado para traduzir os principais conjunto dados utilizados no R, como os dados de plantas `iris`, os dados de carros `mtcarros`, dados `diamante`, entre outros.

Para ter acesso a esses dados traduzidos você pode utilizar a seguinte função `install.packages` para instalar o pacote `dados`, em seguida, você deve carregar o pacote utilizando a função `library` do R. Veja abaixo:

```{r message=FALSE, warning=FALSE}
# Instalar pacote

## install.packages("dados")

# Carregar pacote

library(dados)

# Visualizar conjunto de dados disponíveis

head(dados::pinguins)
head(dados::dados_iris)
head(dados::mtcarros)
```

Após baixar o pacote `dados`, precisamos baixar o pacote `tidyverse` usado para manipulação e visualização de dados.

```{r warning=FALSE, message=FALSE}
# Instalar pacote

## install.packages("tidyverse")

# Carregar pacote

library(tidyverse)
```

Agora vamos visualizar o conjunto de dados de `pinguins` e ver a estrutura desses dados como quais são as variáveis categóricas e numéricas. Você pode utilizar a função `view` para visuzalizar todo os dados em uma janela como a do Excel.

```{r warning=FALSE, message=FALSE}
head(pinguins)
glimpse(pinguins)

# Para visualizar todo conjunto de dados, use:

## view(pinguins)
```

Agora que conhecemos nosso conjunto de dados. Vamos produzir os principais gráficos usando o pacote `ggplot2` presente no metapacote `tidyverse`.

### Gráfico de Barras

```{r warning=FALSE, message=FALSE}

# Manipular dados e calcular médias e erros-padrão

pinguins1 <- pinguins |>
  select(ilha, comprimento_nadadeira) |>
  drop_na() |>
  group_by(ilha) |>
  summarise(media = mean(comprimento_nadadeira),
            n = n(),
            sd = sd(comprimento_nadadeira),
            se = sqrt(sd)/n) 

# Produzir gráfico

ggplot(pinguins1, aes(x = ilha, y = media)) +
  geom_col(width = 0.6, fill = "#69b3a2", color = "white") +
  geom_errorbar(aes(ymax = media + sd,
                    ymin = media - sd),
                width = 0.1, size = 0.8) +
  labs(x = "Ilhas", y = "Comprimento de nadadeiras (mm)") +
  theme_light()
```

###  
